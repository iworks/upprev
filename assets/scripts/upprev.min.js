/*! upPrev - v4.0.7
 * https://iworks.pl/
 * Copyright (c) 2022; * Licensed GPLv2+ */

jQuery(function(a){function b(){var b,f=!1,n="#upprev-trigger";if(iworks_upprev.offset_element&&0<parseInt(a(iworks_upprev.offset_element).length)&&(n=iworks_upprev.offset_element),n&&a(n))if(f=a(n).length>0?a(window).scrollTop()+a(window).height()>a(n).offset().top:a(window).scrollTop()+a(window).height()>=a(document).height()*iworks_upprev.offset_percent/100,b=a("#upprev_box"),f&&!g){var o=iworks_upprev.css_side+"px",p=iworks_upprev.css_bottom+"px";switch(iworks_upprev.position.all){case"bottom":case"top":b.css("left",(a(window).width()-b.width()-parseInt(b.css("padding-left").replace(/px$/,""))-parseInt(b.css("padding-right").replace(/px$/,"")))/2+"px");break;case"left-middle":case"right-middle":b.css("top",(a(window).height()-b.height()-parseInt(b.css("padding-top").replace(/px$/,""))-parseInt(b.css("padding-bottom").replace(/px$/,"")))/2+"px")}if("fade"===iworks_upprev.animation){if(h){switch(iworks_upprev.position.all){case"left-middle":b.css("left",o);break;case"left-top":b.css("left",o),b.css("top",p);break;case"left":b.css("left",o),b.css("bottom",p);break;case"right":b.css("right",o),b.css("bottom",p);break;case"right-top":b.css("top",p),b.css("right",o);break;case"right-middle":b.css("right",o)}b.stop().fadeIn(l)}}else h&&(b.css("display","block"),b.stop().animate(e(p,o),m));h=!1,j&&i&&1==iworks_upprev.ga_track_views&&(_gaq.push(["_trackEvent","upPrev",iworks_upprev.title,null,0,k]),i=!1)}else g&&0==a(window).scrollTop()?g=!1:h||(h=!0,"fade"===iworks_upprev.animation?b.stop().fadeOut(l):(o=c(b),p=d(b),b.css("opacity",1),b.stop().animate(e(p,o),m)))}function c(a){return"-"+(a.width()+parseInt(a.css("padding-top").replace(/px$/,""))+parseInt(a.css("padding-bottom").replace(/px$/,"")))+"px"}function d(a){return"-"+(a.width()+parseInt(a.css("padding-left").replace(/px$/,""))+parseInt(a.css("padding-right").replace(/px$/,"")))+"px"}function e(a,b){switch(upprev_properites={},iworks_upprev.position.all){case"left":upprev_properites.left=b,upprev_properites.bottom=a;break;case"bottom":upprev_properites.bottom=a;break;case"top":upprev_properites.top=a;break;case"left-top":upprev_properites.left=b,upprev_properites.top=a;break;case"left-middle":upprev_properites.left=b;break;case"right":upprev_properites.right=b,upprev_properites.bottom=a;break;case"right-middle":upprev_properites.right=b;break;case"right-top":upprev_properites.right=b,upprev_properites.top=a;break;default:alert(iworks_upprev.position)}return upprev_properites}function f(a,b){a.attr("test","value"),style=a.attr("style"),"undefined"!=style&&(style+=";"),a.attr("style",style+b)}if("undefined"!=typeof iworks_upprev){var g=!1,h=!0,i=!0,j="undefined"!=typeof _gaq,k=1==iworks_upprev.ga_opt_noninteraction,l=1e3,m=600;a(document).ready(function(){var g={action:"upprev",p:iworks_upprev.p,_wpnonce:iworks_upprev.nonce};a.post(iworks_upprev.ajaxurl,g,function(g){var h;!1!==g.success&&(h=g.data.html,a("body").append(h),a(window).bind("scroll",function(){b()}),a("#upprev_rise").click(function(){a(this).fadeOut(l,function(){b(),a(window).bind("scroll",function(){b()})})}),a("#upprev_close").click(function(){return a("#upprev_box").fadeOut("slow",function(){a(window).unbind("scroll"),a("#upprev_rise").css({bottom:0,right:0}).fadeIn(l)}),!1}),1!=iworks_upprev.url_new_window&&1!=iworks_upprev.ga_track_clicks||a("#upprev_box a[id!=upprev_close]").click(function(){if(a(this).attr("style","bacground-color:lime"),1==iworks_upprev.url_new_window&&window.open(a(this).attr("href")),j&&1==iworks_upprev.ga_track_clicks&&_gaq.push(["_trackEvent","upPrev",iworks_upprev.title,a(this).html(),1,k]),1==iworks_upprev.url_new_window)return!1}),box=a("#upprev_box"),box.css({width:iworks_upprev.css_width,borderWidth:iworks_upprev.css_border_width}),iworks_upprev.color_set&&(f(box,"background-color: "+iworks_upprev.color_background+" !important;color: "+iworks_upprev.color+" !important;border-color:"+iworks_upprev.color_border+" !important;"),a("#upprev_box a").each(function(){f(a(this),"color:"+iworks_upprev.color_link+" !important")})),upprev_horizontal=c(box),upprev_vertical=d(box),"fade"==iworks_upprev.animation&&(upprev_vertical=iworks_upprev.css_side,upprev_horizontal=iworks_upprev.css_bottom,box.css({display:"none"})),box.css(e(upprev_vertical,upprev_horizontal)),b())})})}});